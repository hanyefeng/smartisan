"use strict";require(["../../static/conf/config.js"],function(){require(["jquery"],function(a){require(["../../scripts/common/common"],function(){a("input").on("focus",function(){a(this).parent().css("opacity",1),a(this).parent().addClass("focus").removeClass("hover")}).on("blur",function(){a(this).parent().css("opacity",.618),a(this).parent().removeClass("focus").addClass("hover"),""===a(this).val()?(a(this).parent().removeClass("invalid"),a(this).nextAll(".warning").hide(),a(this).prev().css("opacity",1)):"username"==a(this).attr("name")&&(/^1[35678]\d{9}$/.test(a(this).val())||/^[\da-zA-Z][\w\.-]*[^\.-]@[0-9a-z]+(\.[0-9a-z]+)+$/g.test(a(this).val())?(a(this).parent().removeClass("invalid"),a(this).nextAll(".warning").hide()):(a(this).parent().addClass("invalid"),a("#u-format-error").show()))}).on("input",function(){a(this).parent().removeClass("invalid"),a(this).nextAll(".warning").hide(),a(this).prev().css("opacity",0),!/^1[35678]\d{9}$/.test(a(".username input").val())&&!/^[\da-zA-Z][\w\.-]*[^\.-]@[0-9a-z]+(\.[0-9a-z]+)+$/g.test(a(".username input").val())||""===a(".username input").val()||""===a(".password input").val()?a(".btn").addClass("disabled"):a(".btn").removeClass("disabled")}),a(".checkbox").on("click",function(){a(".checkbox").is(".checked")?a(".checkbox").removeClass("checked"):a(".checkbox").addClass("checked")}),a(".btn").on("click",function(){if(!a(".btn").is(".disabled")){var s=localStorage.getItem("userinfo");if(a(".password input").val().length<6)a("#p-error").show(),a(".password .input").addClass("invalid"),a(".btn").addClass("disabled");else if(s){var e=JSON.parse(s);if(e.some(function(s){return s.username==a(".username input").val()}))e.some(function(s){return s.username==a(".username input").val()&&s.password==a(".password input").val()})?(addCookie("userinfo",JSON.stringify({username:a(".username input").val(),password:a(".password input").val()}),10),location.href="../home/home.html"):(a("#p-error").show(),a(".password .input").addClass("invalid"),a(".btn").addClass("disabled"));else a(".username .input").addClass("invalid"),a("#u-not-exist").show(),a(".btn").addClass("disabled")}else a(".username .input").addClass("invalid"),a("#u-not-exist").show(),a(".btn").addClass("disabled")}}),a(".registercloud").on("click",function(){location.href="../register/register.html"})})})});