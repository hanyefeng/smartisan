"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}var GoodsItem=function(){function i(e,t){_classCallCheck(this,i),this.data=e,this.parent=t,this.goods=this.createGoodsItem(),this.render(this.data)}return _createClass(i,[{key:"createGoodsItem",value:function(){var e=this,t=$("<li>");t.addClass("item-four"),t.css({cursor:"pointer",position:"relative",float:"left",width:"25%",height:"429px"});var i=$("<div>");i.addClass("product-box-item"),i.on("mouseenter",this.mouseenterInform.bind(this)).on("mouseleave",this.mouseleaveInform.bind(this)),i.css({width:"100%",height:"100%",border:"none",borderRight:"1px solid #efefef",borderBottom:"1px solid #efefef",borderRadius:"initial"});var o=$("<div>");o.addClass("item-img"),this.img=$("<img>"),this.img.css({display:"block",width:"216px",height:"216px",margin:"0 auto",padding:"45px 0 20px"}),this.img.attr("src",this.data.spu.sku_info[0].ali_image),this.img.appendTo(o),o.appendTo(i),this.title=$("<h4>"),this.title.css({lineHeight:"1.2",fontSize:"14px",color:"#333333",fontWeight:700,margin:"0 8px",overflow:"hidden",textAlign:"center",textOverflow:"ellipsis",whiteSpace:"nowrap"}),this.title.appendTo(i),this.subtitle=$("<h6>"),this.subtitle.css({overflow:"hidden",paddingTop:"15px",fontSize:"12px",lineHeight:1.2,whiteSpace:"nowrap",textOverflow:"ellipsis",color:"#999999",textAlign:"center"}),this.subtitle.appendTo(i),this.colorDiv=this.createColorElem(),this.colorDiv.appendTo(i),this.priceDiv=this.createPriceElem(),this.priceDiv.appendTo(i),this.Inform=$("<div>"),this.Inform.css({marginTop:"20px",display:"flex",justifyContent:"center"});var s=$("<button>");return s.css({border:"1px solid #e1e1e1",borderRadius:"4px",fontSize:"12px",fontWeight:700,color:"#646464",backgroundColor:"#f9f9f9",backgroundImage:"linear-gradient(#fff,#f9f9f9)",width:"100px",height:"30px",margin:"0 5px",textAlign:"center",cursor:"pointer",userSelect:"none",outline:"none",transition:"all .15s ease-out"}),s.text("查看详情"),s.appendTo(this.Inform),this.Inform.appendTo(i),this.Inform.hide(),i.appendTo(t),t.appendTo(this.parent),t.on("click",function(){window.open("../goods/goods.html?id="+e.data.sku_id)}),t}},{key:"mouseenterInform",value:function(){this.priceDiv.hide(),this.Inform.show()}},{key:"mouseleaveInform",value:function(){this.priceDiv.show(),this.Inform.hide()}},{key:"createColorElem",value:function(){var e=$("<div>");e.css({marginTop:"15px",textAlign:"center",height:"14px"});var t=$("<ul>");t.css({display:"inline-block",overflow:"hidden"});for(var i=this.data.spu.shop_info.spec_v2,o=i.findIndex(function(e){return 1==e.spec_id}),s=-1==o?0:i[o].spec_values.length,r=0;r<s;r++){var n=$("<li>");n.css({float:"left",cursor:"pointer",margin:"0 5px"}),0==r&&n.addClass("active"),n.attr("colorId",i[o].spec_values[r].id),n.attr("self",this),n.on("mouseenter",this.colorMouseover.bind(this)),n.on("mouseleave",this.colorMouseout.bind(this));var a=$("<div>");a.addClass("out"),a.css({width:"8px",height:"8px",border:"1px solid #e5e5e5",borderRadius:"50%",padding:"2px",transition:"all .15s ease-out"}),a.appendTo(n);var l=$("<img>");l.css({width:"inherit",height:"inherit",borderRadius:"50%",display:"block"}),l.attr("src",i[o].spec_values[r].image),l.appendTo(a),a.appendTo(n),n.appendTo(t)}return t.appendTo(e),e}},{key:"colorMouseover",value:function(t){$(t.currentTarget).siblings().removeClass("active"),$(t.currentTarget).addClass("active");var e=this.data.spu.sku_info,i=e.findIndex(function(e){return e.color_id==$(t.currentTarget).attr("colorId")}),o=e[i].ali_image;this.img.attr("src",o)}},{key:"colorMouseout",value:function(){}},{key:"createPriceElem",value:function(){var e=$("<div>");e.addClass("item-price").addClass("clear_fix"),e.css({fontSize:0,fontFamily:"Arial",color:"#d44d44",fontWeight:700,marginTop:"20px",textAlign:"center",transition:"all 0.1s ease-out"});var t=$("<span>");t.css({fontSize:"18px",paddingLeft:"4px"});var i=$("<i>");return i.text("￥"),this.price=$("<span>"),i.appendTo(t),this.price.appendTo(t),t.appendTo(e),e}},{key:"render",value:function(e){this.title.text(e.spu.shop_info.spu_title),this.subtitle.text(e.spu.shop_info.spu_sub_title),this.price.text(e.spu.price+".00")}}]),i}();