"use strict";function _classCallCheck(a,t){if(!(a instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(a,n.key,n)}}function _createClass(a,t,e){return t&&_defineProperties(a.prototype,t),e&&_defineProperties(a,e),a}var fullShop=function(){function n(a,t,e){_classCallCheck(this,n),this.data=a,this.localData=t,this.parent=e,this.fullshop=this.createFullShop()}return _createClass(n,[{key:"createFullShop",value:function(){var a=$("<div>").addClass("full").appendTo(this.parent),t=$("<div>").addClass("nav-cart-items").attr("id","iscroll_wrapper").appendTo(a),e=$("<ul>");this.createShopList(e),e.appendTo(t);var n=$("<div>").addClass("nav-cart-total").appendTo(a),i=0;for(var d in this.localData)i+=this.localData[d].num;var o=$("<p>");o.html("共 ");$("<strong>").text(i).appendTo(o);o.html(o.html()+" 件商品"),o.appendTo(n);var r=0;for(var s in this.localData)for(var p=0;p<this.data.length;p++)if(this.data[p].id==s){r+=this.localData[s].num*this.data[p].price;break}var l=$("<h5>").text("合计：");$("<span>").addClass("price-icon").text("￥").appendTo(l),$("<span>").addClass("price-num").text(num2money(r)+".00").appendTo(l),l.appendTo(n);var c=$("<h6>"),h=$("<a>");return h.addClass("nav-cart-btn"),h.text("去购物车"),h.on("click",function(){location.href="../shoppingList/shoppingList.html"}),h.appendTo(c),c.appendTo(n),a}},{key:"createShopList",value:function(T){function a(a){for(var t=null,e=0;e<m.data.length;e++)if(m.data[e].id==a){t=e;break}var n=$("<li>").addClass("clear_fix"),i=$("<div>");i.addClass("cart-item").attr("id",m.data[t].id);var d=$("<div>");d.addClass("cart-item-inner");var o=$("<div>");o.addClass("item-thumb");var r=$("<img>");r.attr("src",m.data[t].shop_info.ali_image),r.appendTo(o),o.appendTo(d);var s=$("<div>");s.addClass("item-desc");var p=$("<div>");p.addClass("cart-cell");var l=$("<h4>"),c=$("<a>");c.text(m.data[t].shop_info.title),c.on("click",function(){console.log(a),window.open("../goods/goods.html?id="+a)}.bind(m)),c.appendTo(l),l.appendTo(p);var h=$("<div>").addClass("attrs");for(var v in m.data[t].attr_info){var u=$("<span>");u.text(m.data[t].attr_info[v].value),u.appendTo(h)}h.appendTo(p);var f=$("<h6>");$("<span>").addClass("price-icon").text("￥").appendTo(f),$("<span>").addClass("price-num").text(num2money(m.data[t].price)+".00").appendTo(f),$("<span>").addClass("item-num").text("x "+m.localData[m.data[t].id].num).appendTo(f),f.appendTo(p),p.appendTo(s),s.appendTo(d),d.appendTo(i),i.appendTo(n),n.appendTo(T)}var m=this;for(var t in this.localData)a(t)}}]),n}();